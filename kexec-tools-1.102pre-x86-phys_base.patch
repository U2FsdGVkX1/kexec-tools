diff -up kexec-tools-testing-20070330/makedumpfile/x86_64.c.orig kexec-tools-testing-20070330/makedumpfile/x86_64.c
--- kexec-tools-testing-20070330/makedumpfile/x86_64.c.orig	2008-06-05 01:30:57.000000000 -0400
+++ kexec-tools-testing-20070330/makedumpfile/x86_64.c	2008-07-14 11:30:05.000000000 -0400
@@ -148,12 +148,11 @@ vaddr_to_offset_x86_64(unsigned long vad
 	struct pt_load_segment *pls;
 
 	/*
-	 * Check the relocatable kernel.
+	 * Note this computation of phys_base works for RHEL5
+	 * because we always keep phys_base at 0x200000.  This 
+	 * doesn't work in general 
 	 */
-	if (SYMBOL(phys_base) != NOT_FOUND_SYMBOL)
-		phys_base = info->phys_base;
-	else
-		phys_base = 0;
+	phys_base = info->phys_base;
 
 	if (is_vmalloc_addr(vaddr)) {
 		if ((paddr = vtop4_x86_64(vaddr)) == NOT_PADDR) {
